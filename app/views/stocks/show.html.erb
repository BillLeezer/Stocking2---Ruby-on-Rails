
<%  @api = StockQuote::Stock.new(api_key: 'pk_d26d923c6b6e41648be7487d7f41b027') %>

<% @ticker = StockQuote::Stock.quote(@stock.ticker) %>
      <% if !@ticker %>
        
        The ticker: <%= @stock.ticker %><br/> does not exist!
        
          
      <% else %>

        <% @logo = StockQuote::Stock.logo(@stock.ticker)%>
        <img src="<%= @logo.url %>"><br/><br/>

          <h2><%= @ticker.company_name %></h2><br/>
          Ticker Symbol: <%= @ticker.symbol %><br/>
          Current Price: $<%= number_with_precision(@ticker.latest_price, :precision => 2, :delimiter => ',') %><br/>

          Previous Close: $<%= number_with_precision(@ticker.previous_close, :precision => 2, :delimiter => ',') %><br/>

          Percent Change: <%= @ticker.change_percent %>%<br/>

          YTD Change: <%= number_with_precision(@ticker.ytd_change, :precision => 2, :delimiter => ',') %>%<br/>
	                    
          Market Cap: $<%= number_with_precision(@ticker.market_cap, :precision => 2, :delimiter => ',') %><br/>

          52 Week High: $<%= number_with_precision(@ticker.week52_high, :precision => 2, :delimiter => ',') %><br/>

          52 Week Low: $<%= number_with_precision(@ticker.week52_low, :precision => 2, :delimiter => ',') %><br/>

          <!-- remove sector reference for stock_quote 3.0 gem -->


          
      
      <% end %>


<br/><br/>
<%= link_to 'Edit', edit_stock_path(@stock) %> |
<%= link_to 'Back', stocks_path %>




